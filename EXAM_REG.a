; EXAMINE THE REGISTERS OF THE 8085uP (EXAM REG)
; THIS SUBROUTINE IS USED TO EXAMINE THE CONTENT OF THE 8085uP IN-BUILT REGISTERS (ie A, B, C, D, E, H & L)

; *** IT SHOULD BE INCLUDED IN THE MANUAL THAT THE USER SHOULD EXAMINE THE CONTENT OF THE ACCUMMULATOR FIRST BEFORE OTHER TO AVOID 
; *** LOSS OF ITS DATA SINCE IT IS THE ONE THAT DOES THE TRANFER

EXAM_REG:			
					CLR_LCD
					D_STR									; DISPLAY THE FOLLOWING STRINGS ON LINE ONE (SINCE LCD DDRAM ADDRESS RESETS WHEN CLEARED)
					DB			'Examine Register',0
					MOV			DPH, 41H				   	; PREPARE AN ADDRESS +2 GREATER THAN THE END ADDRESS FOR AUTO EXECUTION 
					MOV			DPL, 40H				   	; BY BOTH THE uC AND uP

					MOV			A, #0C0H					; THE INSTRUCTIONS BELOW DISPLAYS ON LINE 2
					CALL		LCD_CMD
					
ER_1:				CALL		KEYPAD_ID					; ENSURE A KEY(1ST KEY) IS DEPRESSED
					JNB			01H, ER_1
					CLR			01H							; GET READY FOR NEXT KEY
					
					CJNE		A, #'A', ER_2				; JUMP TO DISPLAY 'A' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'A' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_2:				CJNE		A, #'B', ER_3				; JUMP TO DISPLAY 'B' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'B' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_3:				CJNE		A, #'C', ER_4				; JUMP TO DISPLAY 'C' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'C' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_4:				CJNE		A, #'D', ER_5				; JUMP TO DISPLAY 'D' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'D' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_5:				CJNE		A, #'E', ER_6				; JUMP TO DISPLAY 'E' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'E' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_6:				CJNE		A, #'H', ER_7				; JUMP TO DISPLAY 'H' AND ITS CONTENT ELSE SKIP
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'H' IS SAVED
					MOV			DPL, 42H					
					SJMP		ER_8
ER_7:				CJNE		A, #'L', ER_1				; JUMP TO DISPLAY 'L' AND ITS CONTENT ELSE START AFRESH (KEY PRESSED NOT ACCESSABLE)
					MOV			DPH, 43H					; THEY CONTAIN THE 16 BIT ADDRESS LOCATION WHERE THE CONTENT OF 'L' IS SAVED
					MOV			DPL, 42H					

ER_8:				CALL		LCD_SHO						; DISPLAY THE REGISTERS' ALPAHBET INDICATOR FOLLOWED BY THE CHARATER ':'
					MOV			A, #':'
					CALL		LCD_SHO

					MOVX		A, @DPTR					; RETRIEVE THE HEX CODE IN THE ADDRESS SPECIFIED BY THE CONTENT OF THE DPTR
					MOV			36H, A						; PLACE THE HEX CODE INTO THE INPUT MEMORY LOC. (36H) OF THE HEX_2_ASCII SR

					CALL		HEX_2_ASCII					; CALL THE OSR FOR CONVERSION

					MOV			A, 38H						; MOVE THE ASCII CODE OF THE HIGHER ORDER BYTE TO FOR DISPLAY
					CALL		LCD_SHO
					MOV			A, 37H						; MOVE THE ASCII CODE OF THE LOWER ORDER BYTE TO FOR DISPLAY
					CALL		LCD_SHO


					AJMP		EXAM_REG					; START AFRESH