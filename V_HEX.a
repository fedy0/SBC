; VIEW HEXADECIMAL (V_HEX)
; THIS IS A SUBROUTINE THAT ENABLES THE USER TO VIEW THE HEXADECIMAL CODE OF THE ALREADY WRITTEN CODE
; BOTH IN MACHINE LANGUAGE AND IN ASMBELY LANGUAGE

; **** MAKE SURE YOU INCLUDE THE START AND END OF ADDRESS CHECKERS TO AVOID READ SUPERFULOUS CODES
; **** ALSO THE ADDRESS DISPLAY CONTROL OF THE SR
V_HEX:			MOV			3DH, 3FH					; LOAD THE START ADDRESS' HOB INTO THE V_HEX DISPLAY ADDRESS MEM LOC 2
				MOV			3CH, 3EH					; LOAD THE START ADDRESS' LOB INTO THE V_HEX DISPLAY ADDRESS MEM LOC 1

VH_1:			MOV			3AH, 3DH					; LOAD THE START ADDRESS (ON ENTRANCE TO THE SR) OR CURRENT ADDRESS (ON SR CONTINUITY)...
				MOV			39H, 3CH					; INTO ADDRESS_DISPLAY_CONTROL'S INPUT REGISTERS FOR DISPLAY
				CALL		ADDRESS_DISPLAY_CONTROL		; NOTE THE OSR CONTAINS THE MACRO 'CLR_LCD'

				MOV			DPH, 3DH					; LOAD THE START ADDRESS ON ENTRANCE TO THE SR OR... 
				MOV			DPL, 3CH					; CURRENT ADDRESS INTO THE DATA POINTER ON SR CONTINUITY

				MOVX		A, @DPTR					; RETRIEVE THE HEX CODE IN THE ADDRESS SPECIFIED BY THE CONTENT OF THE DPTR
				MOV			36H, A						; PLACE THE HEX CODE INTO THE INPUT MEMORY LOC. (36H) OF THE HEX_2_ASCII SR

				CALL		HEX_2_ASCII					; CALL THE OSR FOR CONVERSION

				MOV			A, #0C0H					; LOAD A COMMAND TO DISPLAY THE CONTENT OF 38H & 37H ON LINE 2, POSITION 1 & 2
				CALL		LCD_CMD

				MOV			A, 38H						; MOVE THE ASCII CODE OF THE HIGHER ORDER BYTE TO FOR DISPLAY
				CALL		LCD_SHO
				MOV			A, 37H						; MOVE THE ASCII CODE OF THE LOWER ORDER BYTE TO FOR DISPLAY
				CALL		LCD_SHO

VH_2:			CALL		KEYPAD_ID					; ENSURE A KEY IS DEPRESSED
				JNB			01H, VH_2
				CLR			01H	

; ***************SCROLL EITHER UP OR DOWN

				CJNE		A, #'6', VH_9 				; SCROLL UP
; A COMPARISON INSTRUCTION IS HERE TO DETERMINE WHETHER THE SCROLLING HAS ENDED OR NOT. THIS INVOLVES THE USE OF ...
; 2 DIFFERENT REGISTERS TO COMPARE ANOTHER 2 (SINCE ADDRESS IS A 16 BIT STUFF). MEM LOCS. INVOLVED: 3D&3CH AND START'S ADDRESS STORAGE MEM LOCS.
				MOV			A, 3DH
				CJNE		A, 3FH, VH_3				; COMPARE HOB OF CURRENT ADDRESS AND THAT OF START ADDRESS
				SETB		C			
VH_3:			JC			VH_4
				SJMP		VH_6						; PASSED. JUMP TO CONTINUE
				
VH_4:			MOV			A, 3CH
				CJNE		A, 3EH, VH_5				; COMPARE LOB OF CURRENT ADDRESS AND THAT OF START ADDRESS
				SETB		C
VH_5:			JC			VH_2						; THE 'SCROLL UP STOP' TEST ENDS HERE
														; PASSED. CONTINUE

VH_6:			JB			0BH, VH_7
				DJNZ		3CH, VH_8					; DECREMENT THE ADDRESS (16 BITS OR 2 BYTES) FOR THE NEXT CODE AND...
VH_7:			CPL			0BH							; HELPS TO MONITOR DECREMENT ON OVERFLOW
				JB			0BH, VH_8
				DEC			3DH							; (THIS ADDRESS DECREMENT IS A I6 BIT OR 2 BYTE DECREMENTING SO OBSERVE CAREFULLY)
				MOV			3CH, #0FFH

VH_8:			MOV			DPH, 3DH					; LOAD THE START/CURRENT ADDRESS INTO THE DATA POINTER
				MOV			DPL, 3CH

				SJMP		VH_1						; GO BACK AND START AFRESH WITH THE THE NEW(PREVIOUS) ADDRESS

VH_9:			CJNE		A, #'7', VH_14 				; SCROLL DOWN
; A COMPARISON INSTRUCTION HERE TO DETERMINE WHETHER THE SCROLLING HAS ENDED OR NOT. THIS MAY INVOLVE THE USE OF ...
; 2 DIFFERENT REGISTERS TO COMPARE ANOTHER 2 (SINCE ADDRESS IS A 16 BIT STUFF). REGSITERS INVOLVED: 3D&3CH AND END'S ADDRESS STORAGE MEM LOC.
				MOV			A, 3DH
				CJNE		A, 41H, VH_10				; COMPARE HOB OF CURRENT ADDRESS AND THAT OF END ADDRESS
				CLR			C			
VH_10:			JNC			VH_11
				SJMP		VH_13						; PASSED. JUMP TO CONTINUE
				
VH_11:			MOV			A, 3CH
				CJNE		A, 40H, VH_12				; COMPARE LOB OF CURRENT ADDRESS AND THAT OF END ADDRESS
				CLR			C
VH_12:			JNC			VH_2						; THE 'SCROLL DOWN STOP' TEST ENDS HERE
														; PASSED. CONTINUE

VH_13:			INC			DPTR						; INCREMENT THE ADDRESS FOR THE NEXT CODE
				MOV			3DH, DPH					; LOAD THE START/CURRENT ADDRESS INTO THE DATA POINTER
				MOV			3CH, DPL

				SJMP		VH_1						; GO BACK AND START AFRESH WITH THE THE NEW(NEXT) ADDRESS

VH_14:			CJNE		A, #'5', VH_2 				; JUMP TO A USER SPECIFIED ADDRESS
				CALL		GO_TO						; GO TO THE USER ADDRESS
				SJMP		VH_1						; GO BACK AND START AFRESH WITH THE THE NEW(NEXT) ADDRESS
			   ; U MAY INCLUDE A SKIP IN THE GOTO OSR WHEN CANCEL IS PRESS TO COME ON THIS LINE. PUT ON THIS LINE INSTRUCTIONS TO GO BACK AT ITS FORMER ADDRESS
				END

; TESTED: QC PASSED SYNTAXICALLY